<!DOCTYPE html>
<html>
  <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
      <h1 class="my-5 text-center">Mi primera app web</h1>
      <div class="row">
        <div class="col-12">
          <table class="table table-bordered table-hover table-striped">
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Apellido paterno</th>
              <th>Apellido materno</th>
              <th>Sexo</th>
              <th>Acciones</th>
            </tr>
            <tbody></tbody>
          </table>
        </div> <!-- .col -->
      </div> <!-- .row -->
    </div> <!-- .container -->
    <script>
      async function init () {
        const response = await fetch('https://fi.jcaguilar.dev/v1/persona')
        const data = await response.json()

        data.forEach(addRow)
      }

      function addRow (el) {
        const row = document.createElement('tr')

        const id = document.createElement('td')
        id.innerText = el.id
        row.append(id)

        const nombre = document.createElement('td')
        nombre.innerText = el.nombre
        row.append(nombre)

        const paterno = document.createElement('td')
        paterno.innerText = el.apellidoPaterno
        row.append(paterno)

        const materno = document.createElement('td')
        materno.innerText = el.apellidoMaterno
        row.append(materno)

        const sexo = document.createElement('td')
        sexo.innerText = el.sexo
        row.append(sexo)

        const acciones = document.createElement('td')
        const boton = document.createElement('a')
        boton.classList.add('btn', 'btn-primary');
        boton.href = `index.html?id=${el.id}`
        boton.innerText = 'Editar'
        acciones.append(boton)
        row.append(acciones)

        document.querySelector('tbody').append(row)
      }

      window.addEventListener('load', init)
    </script>
  </body>
</html>